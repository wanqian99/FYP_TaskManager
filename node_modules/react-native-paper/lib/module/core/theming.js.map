{"version":3,"names":["createTheming","color","MD2DarkTheme","MD2LightTheme","MD3DarkTheme","MD3LightTheme","DefaultTheme","ThemeProvider","withTheme","useTheme","useAppTheme","overrides","useInternalTheme","themeOverrides","withInternalTheme","WrappedComponent","defaultThemesByVersion","light","dark","getTheme","isDark","isV3","themeVersion","scheme","adaptNavigationTheme","themes","reactNavigationLight","reactNavigationDark","materialLight","materialDark","getAdaptedTheme","navigationTheme","MD3Theme","colors","primary","background","card","elevation","level2","text","onSurface","border","outline","notification","error","MD3Themes","modes","NavigationThemes","adaptedLight","adaptedDark","reduce","prev","curr","LightTheme","DarkTheme","getDynamicThemeElevations","elevationValues","elevations","elevationValue","index","surface","mix","rgb","string"],"sources":["theming.tsx"],"sourcesContent":["import type { ComponentType } from 'react';\n\nimport { $DeepPartial, createTheming } from '@callstack/react-theme-provider';\nimport color from 'color';\n\nimport {\n  MD2DarkTheme,\n  MD2LightTheme,\n  MD3DarkTheme,\n  MD3LightTheme,\n} from '../styles/themes';\nimport type {\n  InternalTheme,\n  MD3Theme,\n  MD3AndroidColors,\n  NavigationTheme,\n} from '../types';\n\nexport const DefaultTheme = MD3LightTheme;\n\nexport const {\n  ThemeProvider,\n  withTheme,\n  useTheme: useAppTheme,\n} = createTheming<unknown>(MD3LightTheme);\n\nexport function useTheme<T = MD3Theme>(overrides?: $DeepPartial<T>) {\n  return useAppTheme<T>(overrides);\n}\n\nexport const useInternalTheme = (\n  themeOverrides?: $DeepPartial<InternalTheme>\n) => useAppTheme<InternalTheme>(themeOverrides);\n\nexport const withInternalTheme = <Props extends { theme: InternalTheme }, C>(\n  WrappedComponent: ComponentType<Props & { theme: InternalTheme }> & C\n) => withTheme<Props, C>(WrappedComponent);\n\nexport const defaultThemesByVersion = {\n  2: {\n    light: MD2LightTheme,\n    dark: MD2DarkTheme,\n  },\n  3: {\n    light: MD3LightTheme,\n    dark: MD3DarkTheme,\n  },\n};\n\nexport const getTheme = (isDark = false, isV3 = true) => {\n  const themeVersion = isV3 ? 3 : 2;\n  const scheme = isDark ? 'dark' : 'light';\n\n  return defaultThemesByVersion[themeVersion][scheme];\n};\n\n// eslint-disable-next-line no-redeclare\nexport function adaptNavigationTheme(themes: {\n  reactNavigationLight: NavigationTheme;\n  materialLight?: MD3Theme;\n}): {\n  LightTheme: NavigationTheme;\n};\n// eslint-disable-next-line no-redeclare\nexport function adaptNavigationTheme(themes: {\n  reactNavigationDark: NavigationTheme;\n  materialDark?: MD3Theme;\n}): {\n  DarkTheme: NavigationTheme;\n};\n// eslint-disable-next-line no-redeclare\nexport function adaptNavigationTheme(themes: {\n  reactNavigationLight: NavigationTheme;\n  reactNavigationDark: NavigationTheme;\n  materialLight?: MD3Theme;\n  materialDark?: MD3Theme;\n}): { LightTheme: NavigationTheme; DarkTheme: NavigationTheme };\n// eslint-disable-next-line no-redeclare\nexport function adaptNavigationTheme(themes: any) {\n  const {\n    reactNavigationLight,\n    reactNavigationDark,\n    materialLight,\n    materialDark,\n  } = themes;\n\n  const getAdaptedTheme = (\n    navigationTheme: NavigationTheme,\n    MD3Theme: MD3Theme\n  ) => {\n    return {\n      ...navigationTheme,\n      colors: {\n        ...navigationTheme.colors,\n        primary: MD3Theme.colors.primary,\n        background: MD3Theme.colors.background,\n        card: MD3Theme.colors.elevation.level2,\n        text: MD3Theme.colors.onSurface,\n        border: MD3Theme.colors.outline,\n        notification: MD3Theme.colors.error,\n      },\n    };\n  };\n\n  const MD3Themes = {\n    light: materialLight || MD3LightTheme,\n    dark: materialDark || MD3DarkTheme,\n  };\n\n  if (reactNavigationLight && reactNavigationDark) {\n    const modes = ['light', 'dark'] as const;\n\n    const NavigationThemes = {\n      light: reactNavigationLight,\n      dark: reactNavigationDark,\n    };\n\n    const { light: adaptedLight, dark: adaptedDark } = modes.reduce(\n      (prev, curr) => {\n        return {\n          ...prev,\n          [curr]: getAdaptedTheme(NavigationThemes[curr], MD3Themes[curr]),\n        };\n      },\n      {\n        light: reactNavigationLight,\n        dark: reactNavigationDark,\n      }\n    );\n\n    return {\n      LightTheme: adaptedLight,\n      DarkTheme: adaptedDark,\n    };\n  }\n\n  if (reactNavigationDark) {\n    return {\n      DarkTheme: getAdaptedTheme(reactNavigationDark, MD3Themes.dark),\n    };\n  }\n\n  return {\n    LightTheme: getAdaptedTheme(reactNavigationLight, MD3Themes.light),\n  };\n}\n\nexport const getDynamicThemeElevations = (scheme: MD3AndroidColors) => {\n  const elevationValues = ['transparent', 0.05, 0.08, 0.11, 0.12, 0.14];\n  return elevationValues.reduce((elevations, elevationValue, index) => {\n    return {\n      ...elevations,\n      [`level${index}`]:\n        index === 0\n          ? elevationValue\n          : color(scheme.surface)\n              .mix(color(scheme.primary), elevationValue as number)\n              .rgb()\n              .string(),\n    };\n  }, {});\n};\n"],"mappings":"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"}