{"version":3,"file":"deprecation.js","names":["deprecateQueries","queriesObject","recommendation","result","Object","keys","forEach","queryName","queryFn","deprecateQuery","formattedRecommendation","replace","getQueryPrefix","wrapper","args","errorMessage","console","warn"],"sources":["../../src/helpers/deprecation.ts"],"sourcesContent":["import { getQueryPrefix } from './query-name';\n\nexport function deprecateQueries<Queries extends Record<string, any>>(\n  queriesObject: Queries,\n  recommendation: string\n): Queries {\n  const result = {} as Queries;\n  Object.keys(queriesObject).forEach((queryName) => {\n    const queryFn = queriesObject[queryName];\n    // @ts-expect-error: generic typing is hard\n    result[queryName] = deprecateQuery(queryFn, queryName, recommendation);\n  });\n\n  return result;\n}\n\nfunction deprecateQuery<QueryFn extends (...args: any) => any>(\n  queryFn: QueryFn,\n  queryName: string,\n  recommendation: string\n): QueryFn {\n  const formattedRecommendation = recommendation.replace(\n    /{queryPrefix}/g,\n    getQueryPrefix(queryName)\n  );\n\n  // @ts-expect-error: generic typing is hard\n  const wrapper: QueryFn = (...args: any) => {\n    const errorMessage = `${queryName}(...) is deprecated and will be removed in the future.\\n\\n${formattedRecommendation}`;\n    // eslint-disable-next-line no-console\n    console.warn(errorMessage);\n    return queryFn(...args);\n  };\n\n  return wrapper;\n}\n"],"mappings":";;;;;;AAAA;AAEO,SAASA,gBAAgB,CAC9BC,aAAsB,EACtBC,cAAsB,EACb;EACT,MAAMC,MAAM,GAAG,CAAC,CAAY;EAC5BC,MAAM,CAACC,IAAI,CAACJ,aAAa,CAAC,CAACK,OAAO,CAAEC,SAAS,IAAK;IAChD,MAAMC,OAAO,GAAGP,aAAa,CAACM,SAAS,CAAC;IACxC;IACAJ,MAAM,CAACI,SAAS,CAAC,GAAGE,cAAc,CAACD,OAAO,EAAED,SAAS,EAAEL,cAAc,CAAC;EACxE,CAAC,CAAC;EAEF,OAAOC,MAAM;AACf;AAEA,SAASM,cAAc,CACrBD,OAAgB,EAChBD,SAAiB,EACjBL,cAAsB,EACb;EACT,MAAMQ,uBAAuB,GAAGR,cAAc,CAACS,OAAO,CACpD,gBAAgB,EAChB,IAAAC,yBAAc,EAACL,SAAS,CAAC,CAC1B;;EAED;EACA,MAAMM,OAAgB,GAAG,CAAC,GAAGC,IAAS,KAAK;IACzC,MAAMC,YAAY,GAAI,GAAER,SAAU,6DAA4DG,uBAAwB,EAAC;IACvH;IACAM,OAAO,CAACC,IAAI,CAACF,YAAY,CAAC;IAC1B,OAAOP,OAAO,CAAC,GAAGM,IAAI,CAAC;EACzB,CAAC;EAED,OAAOD,OAAO;AAChB"}